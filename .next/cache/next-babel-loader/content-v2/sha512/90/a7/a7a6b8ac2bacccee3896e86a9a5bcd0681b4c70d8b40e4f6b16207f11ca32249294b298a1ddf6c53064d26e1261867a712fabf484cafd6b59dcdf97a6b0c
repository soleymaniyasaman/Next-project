{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/yasaman/Documents/alaedinpricepage/alaedinmainwebfront/components/price/priceComponent_searchbox/index.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport style from './priceComponent_searchbox.module.scss';\nimport { useCallback, useRef, useState } from 'react';\nimport Link from 'next/link';\nexport default function PriceComponent_searchbox(_ref, props) {\n  _s();\n\n  var _this = this;\n\n  var brand = _ref.brand;\n  var searchRef = useRef(null);\n\n  var _useState = useState(''),\n      query = _useState[0],\n      setQuery = _useState[1];\n\n  var _useState2 = useState(false),\n      active = _useState2[0],\n      setActive = _useState2[1];\n\n  var _useState3 = useState([]),\n      results = _useState3[0],\n      setResults = _useState3[1];\n\n  var searchEndpoint = function searchEndpoint(query) {\n    return \"/api/search?q=\".concat(query);\n  };\n\n  var onChange = useCallback(function (e) {\n    var query = e.target.value;\n    setQuery(query);\n\n    if (query.length) {\n      fetch(searchEndpoint(query)).then(function (res) {\n        return res.json();\n      }).then(function (res) {\n        setResults(res.results);\n      });\n    } else {\n      setResults([]);\n    }\n  }, []);\n  var onFocus = useCallback(function () {\n    setActive(true);\n    window.addEventListener('click', onclick);\n  }, []);\n  var onClick = useCallback(function (e) {\n    if (searchRef.current && !searchRef.current.contains(e.target)) {\n      setActive(false);\n      window.removeEventListener('click', onclick);\n    }\n  }, []);\n\n  var LiveIcon = function LiveIcon() {\n    if (brand === \"AllBrand\") {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col d-flex justify-content-center  mt-2 \",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex  align-items-center \",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex align-items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"/images/Account-logo.png\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"\".concat(style.priceComponent_search_live_icon, \" \"),\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex justify-content-end\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"\".concat(style.priceComponent_search_live_text, \" \"),\n                  children: \"LIVE\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 48,\n                  columnNumber: 37\n                }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"\".concat(style.priceComponent_search_live_Ellipse, \" \")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 49,\n                  columnNumber: 37\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 47,\n                columnNumber: 33\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 29\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 25\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, _this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col d-flex justify-content-center  mt-2 \",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex  align-items-center \",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex align-items-center\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"/images/Account-logo.png\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 29\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, _this);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: \" w-100 \".concat(style.priceComponent_search_d_rtl, \" \"),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \" container-fluid row mt-2 m-0 p-0 d-flex justify-content-around\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \" col d-flex\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group \".concat(style.priceComponent_search, \"  d-flex justify-content-center  \").concat(style.priceComponent_search_d_ltr, \" \"),\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"\".concat(style.priceComponent_search_form_control_feedback, \" priceComponent_IconSearchBox_\").concat(brand),\n              src: \"/images/Search-icon.png\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              onChange: onChange,\n              onFocus: onFocus,\n              onClick: onClick,\n              value: query,\n              className: \"  \".concat(style.priceComponent_search_size_searchbox, \" \").concat(style.priceComponent_search_inside_searchbox, \" priceComponent_searchbox_\").concat(brand, \" \").concat(style.input_text),\n              placeholder: \"\\u062C\\u0633\\u062A\\u062C\\u0648...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 29\n            }, this), active && results.length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: results.map(function (_ref2) {\n                var id = _ref2.id,\n                    title = _ref2.title;\n                return /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    href: \"#\",\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      children: title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 89,\n                      columnNumber: 49\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 88,\n                    columnNumber: 45\n                  }, _this)\n                }, id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 41\n                }, _this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), LiveIcon()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n}\n\n_s(PriceComponent_searchbox, \"oqe8akMVRkuS+mcNkeyriWn9jdE=\");\n\n_c = PriceComponent_searchbox;\n\nvar _c;\n\n$RefreshReg$(_c, \"PriceComponent_searchbox\");","map":{"version":3,"sources":["/Users/yasaman/Documents/alaedinpricepage/alaedinmainwebfront/components/price/priceComponent_searchbox/index.js"],"names":["React","style","useCallback","useRef","useState","Link","PriceComponent_searchbox","props","brand","searchRef","query","setQuery","active","setActive","results","setResults","searchEndpoint","onChange","e","target","value","length","fetch","then","res","json","onFocus","window","addEventListener","onclick","onClick","current","contains","removeEventListener","LiveIcon","priceComponent_search_live_icon","priceComponent_search_live_text","priceComponent_search_live_Ellipse","priceComponent_search_d_rtl","priceComponent_search","priceComponent_search_d_ltr","priceComponent_search_form_control_feedback","priceComponent_search_size_searchbox","priceComponent_search_inside_searchbox","input_text","map","id","title"],"mappings":"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","sourcesContent":["import React from 'react'\nimport style from './priceComponent_searchbox.module.scss'\nimport { useCallback, useRef, useState } from 'react'\nimport Link from 'next/link'\n\nexport default function PriceComponent_searchbox({ brand }, props) {\n    const searchRef = useRef(null)\n    const [query, setQuery] = useState('')\n    const [active, setActive] = useState(false)\n    const [results, setResults] = useState([])\n\n    const searchEndpoint = (query) => `/api/search?q=${query}`\n    const onChange = useCallback((e) => {\n        const query = e.target.value;\n        setQuery(query)\n        if (query.length) {\n            fetch(searchEndpoint(query))\n                .then(res => res.json())\n                .then(res => {\n                    setResults(res.results)\n                })\n        } else {\n            setResults([])\n        }\n    }, [])\n\n    const onFocus = useCallback(() => {\n        setActive(true)\n        window.addEventListener('click', onclick)\n    }, [])\n\n    const onClick = useCallback((e) => {\n        if (searchRef.current && !searchRef.current.contains(e.target)) {\n            setActive(false)\n            window.removeEventListener('click', onclick)\n        }\n    }, [])\n\n    const LiveIcon = () => {\n        if (brand === \"AllBrand\") {\n            return (\n                <div className={`col d-flex justify-content-center  mt-2 `}>\n                    <div className={`d-flex  align-items-center `}>\n                        <div className=\"d-flex align-items-center\">\n                            <img src=\"/images/Account-logo.png\" />\n                            <div className={`${style.priceComponent_search_live_icon} `}>\n                                <div className=\"d-flex justify-content-end\">\n                                    <p className={`${style.priceComponent_search_live_text} `}>LIVE</p>\n                                    <div className={`${style.priceComponent_search_live_Ellipse} `}></div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            )\n        } else {\n            return (\n                <div className={`col d-flex justify-content-center  mt-2 `}>\n                    <div className={`d-flex  align-items-center `}>\n                        <div className=\"d-flex align-items-center\">\n                            <img src=\"/images/Account-logo.png\" />\n                        </div>\n                    </div>\n                </div>\n            )\n        }\n    }\n    return (\n        <header className={` w-100 ${style.priceComponent_search_d_rtl} `}>\n            <div className=\" container-fluid row mt-2 m-0 p-0 d-flex justify-content-around\">\n                <div className=\"col \"></div>\n                <div className=\" col d-flex\">\n                    <div className={`form-group ${style.priceComponent_search}  d-flex justify-content-center  ${style.priceComponent_search_d_ltr} `}>\n                        <div >\n                            <img className={`${style.priceComponent_search_form_control_feedback} priceComponent_IconSearchBox_${brand}`} src=\"/images/Search-icon.png\" />\n                            <input type=\"text\"\n                                onChange={onChange}\n                                onFocus={onFocus}\n                                onClick={onClick}\n                                value={query}\n                                className={`  ${style.priceComponent_search_size_searchbox} ${style.priceComponent_search_inside_searchbox} priceComponent_searchbox_${brand} ${style.input_text}`}\n                                placeholder=\"جستجو...\"\n                            />\n                            {active && results.length > 0 && (\n                                <ul>\n                                    {results.map(({ id, title }) => (\n                                        <li key={id}>\n                                            <Link href=\"#\" >\n                                                <a>{title}</a>\n                                            </Link>\n                                        </li>\n                                    ))}\n                                </ul>\n                            )}\n\n                        </div>\n                    </div>\n                </div>\n                {LiveIcon()}\n            </div>\n        </header>\n    )\n}\n\n"]},"metadata":{},"sourceType":"module"}