{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/yasaman/Documents/alaedinpricepage/alaedinmainwebfront/components/price/priceComponent_searchbox/index.js\";\nimport React from 'react';\nimport style from './priceComponent_searchbox.module.scss';\nimport { useCallback, useRef, useState } from 'react';\nimport Link from 'next/link';\nexport default function PriceComponent_searchbox({\n  brand\n}, props) {\n  const searchRef = useRef(null);\n  const {\n    0: query,\n    1: setQuery\n  } = useState('');\n  const {\n    0: active,\n    1: setActive\n  } = useState(false);\n  const {\n    0: results,\n    1: setResults\n  } = useState([]);\n\n  const searchEndpoint = query => `/api/search?q=${query}`;\n\n  const onChange = useCallback(e => {\n    const query = e.target.value;\n    setQuery(query);\n\n    if (query.length) {\n      fetch(searchEndpoint(query)).then(res => res.json()).then(res => {\n        setResults(res.results);\n      });\n    } else {\n      setResults([]);\n    }\n  }, []);\n  const onFocus = useCallback(() => {\n    setActive(true);\n    window.addEventListener('click', onclick);\n  }, []);\n  const onClick = useCallback(e => {\n    if (searchRef.current && !searchRef.current.contains(e.target)) {\n      setActive(false);\n      window.removeEventListener('click', onclick);\n    }\n  }, []);\n\n  const LiveIcon = () => {\n    if (brand === \"AllBrand\") {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `col-lg-2 col-sm-2 mt-2 `,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `d-flex  align-items-center `,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex align-items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"/images/Account-logo.png\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `${style.priceComponent_search_live_icon} `,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex justify-content-end\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: `${style.priceComponent_search_live_text} `,\n                  children: \"LIVE\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 48,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `${style.priceComponent_search_live_Ellipse} `\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 49,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 47,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `col-lg-2 col-sm-2 mt-2 `,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `d-flex  align-items-center justify-content-center `,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex align-items-center\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"/images/Account-logo.png\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: ` w-100 ${style.priceComponent_search_d_rtl} `,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \" container-fluid row mt-2 m-0\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-2 col-sm-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \" d-flex justify-content-center col-lg-9 col-sm-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `form-group ${style.priceComponent_search}  d-flex justify-content-center  ${style.priceComponent_search_d_ltr} `,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: `${style.priceComponent_search_form_control_feedback} priceComponent_IconSearchBox_${brand}`,\n              src: \"/images/Search-icon.png\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              onChange: onChange,\n              onFocus: onFocus,\n              onClick: onClick,\n              value: query,\n              className: `  ${style.priceComponent_search_size_searchbox} ${style.priceComponent_search_inside_searchbox} priceComponent_searchbox_${brand} ${style.input_text}`,\n              placeholder: \"\\u062C\\u0633\\u062A\\u062C\\u0648...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 29\n            }, this), active && results.length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: results.map(({\n                id,\n                title\n              }) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  href: \"#\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    children: title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 89,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 45\n                }, this)\n              }, id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 41\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), LiveIcon()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n}","map":{"version":3,"sources":["/Users/yasaman/Documents/alaedinpricepage/alaedinmainwebfront/components/price/priceComponent_searchbox/index.js"],"names":["React","style","useCallback","useRef","useState","Link","PriceComponent_searchbox","brand","props","searchRef","query","setQuery","active","setActive","results","setResults","searchEndpoint","onChange","e","target","value","length","fetch","then","res","json","onFocus","window","addEventListener","onclick","onClick","current","contains","removeEventListener","LiveIcon","priceComponent_search_live_icon","priceComponent_search_live_text","priceComponent_search_live_Ellipse","priceComponent_search_d_rtl","priceComponent_search","priceComponent_search_d_ltr","priceComponent_search_form_control_feedback","priceComponent_search_size_searchbox","priceComponent_search_inside_searchbox","input_text","map","id","title"],"mappings":"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","sourcesContent":["import React from 'react'\nimport style from './priceComponent_searchbox.module.scss'\nimport { useCallback, useRef, useState } from 'react'\nimport Link from 'next/link'\n\nexport default function PriceComponent_searchbox({ brand }, props) {\n    const searchRef = useRef(null)\n    const [query, setQuery] = useState('')\n    const [active, setActive] = useState(false)\n    const [results, setResults] = useState([])\n\n    const searchEndpoint = (query) => `/api/search?q=${query}`\n    const onChange = useCallback((e) => {\n        const query = e.target.value;\n        setQuery(query)\n        if (query.length) {\n            fetch(searchEndpoint(query))\n                .then(res => res.json())\n                .then(res => {\n                    setResults(res.results)\n                })\n        } else {\n            setResults([])\n        }\n    }, [])\n\n    const onFocus = useCallback(() => {\n        setActive(true)\n        window.addEventListener('click', onclick)\n    }, [])\n\n    const onClick = useCallback((e) => {\n        if (searchRef.current && !searchRef.current.contains(e.target)) {\n            setActive(false)\n            window.removeEventListener('click', onclick)\n        }\n    }, [])\n\n    const LiveIcon = () => {\n        if (brand === \"AllBrand\") {\n            return (\n                <div className={`col-lg-2 col-sm-2 mt-2 `}>\n                    <div className={`d-flex  align-items-center `}>\n                        <div className=\"d-flex align-items-center\">\n                            <img src=\"/images/Account-logo.png\" />\n                            <div className={`${style.priceComponent_search_live_icon} `}>\n                                <div className=\"d-flex justify-content-end\">\n                                    <p className={`${style.priceComponent_search_live_text} `}>LIVE</p>\n                                    <div className={`${style.priceComponent_search_live_Ellipse} `}></div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            )\n        } else {\n            return (\n                <div className={`col-lg-2 col-sm-2 mt-2 `}>\n                    <div className={`d-flex  align-items-center justify-content-center `}>\n                        <div className=\"d-flex align-items-center\">\n                            <img src=\"/images/Account-logo.png\" />\n                        </div>\n                    </div>\n                </div>\n            )\n        }\n    }\n    return (\n        <header className={` w-100 ${style.priceComponent_search_d_rtl} `}>\n            <div className=\" container-fluid row mt-2 m-0\">\n                <div className=\"col-2 col-sm-1\"></div>\n                <div className=\" d-flex justify-content-center col-lg-9 col-sm-8\">\n                    <div className={`form-group ${style.priceComponent_search}  d-flex justify-content-center  ${style.priceComponent_search_d_ltr} `}>\n                        <div >\n                            <img className={`${style.priceComponent_search_form_control_feedback} priceComponent_IconSearchBox_${brand}`} src=\"/images/Search-icon.png\" />\n                            <input type=\"text\"\n                                onChange={onChange}\n                                onFocus={onFocus}\n                                onClick={onClick}\n                                value={query}\n                                className={`  ${style.priceComponent_search_size_searchbox} ${style.priceComponent_search_inside_searchbox} priceComponent_searchbox_${brand} ${style.input_text}`}\n                                placeholder=\"جستجو...\"\n                            />\n                            {active && results.length > 0 && (\n                                <ul>\n                                    {results.map(({ id, title }) => (\n                                        <li key={id}>\n                                            <Link href=\"#\" >\n                                                <a>{title}</a>\n                                            </Link>\n                                        </li>\n                                    ))}\n                                </ul>\n                            )}\n\n                        </div>\n                    </div>\n                </div>\n                {LiveIcon()}\n            </div>\n        </header>\n    )\n}\n\n"]},"metadata":{},"sourceType":"module"}